var karacos = require('karacos'),
	assert = require('assert');

/**
 * Children
 */
Child = karacos.model.Parent.extend({
	init: function(values){
		this._super(values);
	},
	map:{
		parent: 'Child:{id}:Parent'
	}
}, 'Child');

Child.create = function(data, callback){
	var client = karacos.wrapper.getClient(),
	parent;
	assert.ok((typeof data.parent !== "undefined"));
	parent = wrapper.get(data.parent, function(err, res) {
		if (res.id === parent.id) {
			karacos.model.Parent.create(data, function(err,res){
				if (typeof callback !== "undefined")
					callback(err,res);
			});
		} else {
			callback("Incorrect parent id, not found",undefined);
		}
	});
}