var karacos = require('karacos'),
	node = require('node');

/**
 * Node
 */
Node = karacos.model.Child.extend({
	init: function(values){
		this._super(values);
		this.domain = karacos.wrapper.get(this._data.domain);
	},
	map:{
		domain: 'Node:{id}:Domain'
	}
}, 'Node');

Node.create = function(data, callback){
	assert.ok((typeof data.parent !== "undefined"));
	if ('type' not in data) {
		data.type = "Node";
	}
	karacos.model.Child.create(data, function(err,res){
		if (typeof callback !== "undefined")
			callback(err,res);
	});
}